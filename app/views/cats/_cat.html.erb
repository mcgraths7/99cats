<table>
  <thead>
    <tr>
      <th><%= @cat.name %></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Age:</td>
      <td><%= @cat.age %></td>
    </tr>
    <tr>
      <td>Sex:</td>
      <td><%= @cat.sex.upcase %></td>
    </tr>
    <tr>
      <td>Color:</td>
      <td><%= @cat.color %></td>
    </tr>
    <tr>
      <td>Description:</td>
      <td><%= @cat.description %></td>
    </tr>
    <tr>
      <td>Existing Rental Requests</td>
      <td>
        <ol>
          <% CatRentalRequest.where(cat_id: @cat.id)
                            .order(:start_date)
                            .each do |rental_request| %>
            <% if rental_request.denied? == false %>
              <li>
                <%= rental_request.start_date %> - <%= rental_request.end_date %> 
                <% if rental_request.pending?%>
                  <form action="<%= approve_cat_rental_request_url(rental_request) %>" method="post">
                    <input type="hidden" name="_method" value="PUT">
                    <button type="submit">Approve</button>
                  </form>
                  <form action="<%= deny_cat_rental_request_url(rental_request) %>" method="post">
                    <input type="hidden" name="_method" value="PUT">
                    <button type="submit">Deny</button>
                  </form>
                <% end %>
              </li>
            <% end %>
          <% end %>
        </ol>
      </td>
    </tr>
  </tbody>
</table>
